# docker-compose.yml
version: "3.9"

services:
  nordvpn:
    image: boingbasti/nordvpn-gateway:latest # Ersetzen Sie dies durch Ihren Docker Hub Namen
    container_name: nordvpn-gateway
    cap_add:
      - NET_ADMIN
      # - NET_RAW      # (optional) Auf einigen Hosts für die Server-Suche via Ping erforderlich
    devices:
      - /dev/net/tun
    volumes:
      # Binden Sie Ihre Token-Datei als Secret ein
      - ./nordvpn_token.txt:/run/secrets/nordvpn_token:ro
      # Synchronisiert die Zeitzone mit dem Host
      - /etc/localtime:/etc/localtime:ro
    environment:
      # --- Empfohlene Einstellungen ---
      - VPN_COUNTRY=Germany
      - VPN_AUTO_CONNECT=best
      - VPN_MTU=auto

      # --- Standard-Sicherheitseinstellungen ---
      - VPN_TECHNOLOGY=NordLynx
      - KILLSWITCH=on
      - POST_QUANTUM=on
      
      # --- Weitere Optionen (Beispiele) ---
      #- VPN_GROUP=p2p
      #- ALLOWLIST_SUBNET=192.168.1.0/24 # Notwendig für LAN-Gateway-Funktion
    restart: unless-stopped
